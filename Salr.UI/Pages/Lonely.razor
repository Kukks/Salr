@page "/Lonely"
<MudContainer Class="mt-16" MaxWidth="MaxWidth.Medium">
    <MudText Typo="Typo.h3" Align="Align.Center" GutterBottom="true">New Direct Message or thread</MudText>
    <GoToGenericChannel OnChosen="Callback"></GoToGenericChannel>
    <MudText Typo="Typo.h3" Align="Align.Center" GutterBottom="true">New Thread</MudText>
    <CreateNewThread></CreateNewThread>

    <MudText>Your pubkey is @Db.PubKeyHex</MudText>
    <ChatChannels OnChosen="Callback"></ChatChannels>
</MudContainer>

@code {


    [Inject]
    public Db Db { get; set; }

    [Inject]
    public NavigationManager NavigationManager { get; set; }

    public partial class PageLinks
    {
        public static string LonelyLink()
        {
            return $"/lonely";
        }
    }

    private void Callback((string type, string channel) obj)
    {
        switch (obj.type)
        {
            case "dm":
                NavigationManager.NavigateTo(ViewDirectMessages.PageLinks.DirectMessageLink(obj.channel));
                break;
            case "thread":
                NavigationManager.NavigateTo(ViewThread.PageLinks.ThreadLink(obj.channel));
                break;
        }
    }

}

}